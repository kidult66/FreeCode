<head>
	<title>Binary Tree</title>
</head>
<body>
	<script>
		function BinaryTree() {
			var Node = function(key) {
				this.key = key
				this.left = null
				this.right = null
			}

			var root = null

			var insertNode = function(node, newNode) {
				if (newNode.key < node.key) {
					if (node.left === null) {
						node.left = newNode
					} else {
						insertNode(node.left, newNode)
					}
				} else {
					if (node.right === null) {
						node.right = newNode
					} else {
						insertNode(node.right, newNode)
					}
				}
			}

			this.insert = function(key) {
				var newNode = new Node(key)
				if (root === null) {
					root = newNode
				} else {
					insertNode(root, newNode)
				}
			}

			var inOrderTraverseNode = function(node, callback) {
				if (node !== null) {
					inOrderTraverseNode(node.left, callback)
					callback(node.key)
					inOrderTraverseNode(node.right, callback)
				}
			}

			this.inOrderTraverse = function(callback) {
				inOrderTraverseNode(root, callback)
			}

			var maxNode = function(node) {
				if (node) {
					while (node.right) {
						node = node.right
					}
					return node.key
				}
				return null
			}
			this.max = function() {
				return maxNode(root)
			}

			var searchNode = function(node, key) {
				if (node === null) {
					return false
				}

				if (key < node.key) {
					return searchNode(node.left, key)
				} else if (key > node.key) {
					return searchNode(node.right, key)
				} else {
					return true
				}
			}
			this.search = function(key) {
				return searchNode(root, key)
			}

		}

		var nodes = [3, 1, 7, 11, 5, 14, 8, 10]
		var binaryTree = new BinaryTree()
		nodes.forEach(function(key) {
			binaryTree.insert(key)
		})

		function callback(key) {
			console.log(key)
		}

		console.log('max node is:' + binaryTree.max())
		console.log(binaryTree.search(2) ? 'true' : 'false')
</script>
</body>